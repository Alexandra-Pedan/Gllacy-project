let isLocalStorage=!0,storageLogin="";try{storageLogin=localStorage.getItem("login")}catch(e){isLocalStorage=!1}const contactsButton=document.querySelector(".contacts__button"),feedbackModal=document.querySelector(".feedback-overlay"),feedbackBody=feedbackModal.querySelector(".feedback"),feedbackClose=feedbackModal.querySelector(".feedback__button-close"),feedbackForm=feedbackModal.querySelector(".feedback-form"),feedbackName=feedbackForm.querySelector("#feedback-name"),feedbackEmail=feedbackForm.querySelector("#feedback-email"),feedbackReview=feedbackForm.querySelector("#feedback-review"),signForm=document.querySelector(".sign-form"),signEmail=signForm.querySelector("#sign-email"),signPassword=signForm.querySelector("#sign-password"),carouselSwitches=document.querySelectorAll(".switch"),carouselSlides=document.querySelectorAll(".slide"),carouselMap={0:"body_green",1:"body_grey",2:"body_brown"};carouselSwitches.forEach((e,a)=>{e.addEventListener("click",e=>{const o=document.querySelector(".switch_current");o.classList.remove("switch_current"),e.currentTarget.classList.add("switch_current");const c=document.querySelector(".slide_current");c.classList.remove("slide_current"),carouselSlides[a].classList.add("slide_current"),document.body.classList.remove(document.body.classList[1]),document.body.classList.add(carouselMap[a])})});const showOverlay=()=>{feedbackModal.classList.add("feedback-overlay_show"),feedbackBody.classList.add("feedback_bounce"),feedbackClose.addEventListener("click",feedbackCloseHandler),document.addEventListener("keydown",onEscapePress)},closeOverlay=()=>{feedbackModal.classList.remove("feedback-overlay_show"),feedbackBody.classList.remove("feedback_bounce"),feedbackBody.classList.remove("feedback_err"),feedbackClose.removeEventListener("click",feedbackCloseHandler),document.removeEventListener("keydown",onEscapePress)},onContactsBtnClick=e=>{e.preventDefault(),showOverlay(),storageLogin&&(feedbackEmail.value=storageLogin),feedbackName.focus()},feedbackCloseHandler=e=>{e.preventDefault(),closeOverlay()},onEscapePress=e=>{27===e.keyCode&&closeOverlay()},onFeedbackFormSubmit=e=>{feedbackName.value&&feedbackEmail.value&&feedbackReview.value?isLocalStorage&&localStorage.setItem("login",feedbackEmail.value):(e.preventDefault(),feedbackBody.classList.remove("feedback_err"),feedbackBody.offsetWidth=feedbackBody.offsetWidth,feedbackBody.classList.add("feedback_err"))},onSignFormFocus=e=>{storageLogin&&(signEmail.value=storageLogin)};contactsButton.addEventListener("click",onContactsBtnClick),feedbackForm.addEventListener("submit",onFeedbackFormSubmit),signForm.addEventListener("focusin",onSignFormFocus);
